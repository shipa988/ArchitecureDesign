# 4. functional-decomposition

Date: 2023-11-30

## Status

Accepted

## Context

Предложите как минимум 2 способа функциональной декомпозиции системы.
Для каждого из решений проведите оценку модифицируемости, сравнительный анализ и вывод.

## Decision

Выделим основные сценарии использования системы и их основе функционально декомпозируем нашу систему.

### Флоу:

**клиент** регистрируется -> выбирает номер -> бронирует -> оплачивает (или оплата по факту)

**клиент** заезжает в номер -> пользуется -> делается уборка номера -> выезжает -> ставит оценку

**админ** бронирует номер по телефону -> отправляет ссылку на оплату -> клиент оплачивает (или оплата по факту)

**персонал** видит что номер нуждается в уборке -> убирает номер -> фиксирует уборку в системе

### Сценарии и функции:

1. Функции регистрации клиентов:

     Гости могут зарегистрироваться через Интернет, мобильные устройства, телефонный звонок или лично в отеле. 
2. Управление статусом номеров:

     Система поддерживает статус номера (забронирован, доступен, готов к уборке и т.д.). Сотрудники могут отмечать, когда номер будет доступен для следующего бронирования.
3. Функциональность управления уборкой:

     Персонал по уборке и техническому обслуживанию может использовать систему для направления в различные помещения в зависимости от приоритета и необходимости бронирования, используя запатентованные устройства на тележках для уборки.
4. Функции бронирования номеров:

     Система обеспечивает стандартные функции бронирования, включая обработку платежей, регистрационную информацию и другие сопутствующие аспекты через существующую систему бронирования. Гости могут выбрать тип номера (стандарт, делюкс, люкс) или конкретный номер, ознакомившись с фотографиями и местоположением каждого номера.
5. Интеграция с умными технологиями:

     Система интегрируется с умными замками в номерах, позволяя гостям открывать двери с помощью мобильных устройств.
6. Мобильное приложение для гостей:

     Мобильное приложение позволяет гостям бронировать и управлять номерами через мобильные устройства
7. Программа лояльности:

     Клиенты используют программу лояльности с бонусами и скидками что стимулирует повторные бронирования и предоставляет привилегии постоянным гостям.
8. Оценка номеров клиентами:

     Гости могут оценивать номера и делиться своим опытом, что помогает улучшать качество обслуживания и адаптировать предложение к предпочтениям гостей.
9. Виртуальные туры по номерам:

     Гости могут просматривать виртуальные туры по номерам, что помогает им более подробно ознакомиться с атмосферой и дизайном номеров.
10. Оплата номера:

    Оплатить номер можно через существующую систему платежей (необходима интеграция)

**На основе этих сценариев декомпозируем систему:**

### Декомпозиция контекстами:

* Контекст Клиент (регистрация , бронирование,  оплата, рейтинг)
* Контекст Персонал (уборка + помощь клиентам, рейтинг)
* Контекст Бронирование (флоу бронирования от выбора номера до оплаты и оценки)
* Контекст Отель (предоставление информации по номерам, рейтинг)
* Контекст Комната (все о номере: фото, оценка, состояние, датчики, замки, ключи, рейтинг)

### Декомпозиция Функциональными блоками:
**Основной модуль**
*    Система регистрации (IAM подсистема)- можно разрабатывать отдельной командой и интегрировать с существующей системой (предоставляет API)
*    Система бронирования (ядро системы)- предоставляет основные функции и управляет бронированиями (предоставляет API)
  * 
    * подсистема бронирования + оценки номеров
    * подсистема управления номером + интеграция с умными датчиками номеров можно разрабатывать отдельной командой
*    Система оплаты - можно разрабатывать отдельной командой и интегрировать с существующей системой и платежками (предоставляет API)

**Внешний модуль** 
*    Мобильное приложение - можно разрабатывать отдельной командой на основе задокументированного API
*    Веб приложение - можно разрабатывать отдельной командой на основе задокументированного API
*    Админ-веб портал - можно разрабатывать отдельной командой на основе задокументированного API

Доп модули

Система лояльности - управление лояльностью клиента

## Consequences

What becomes easier or more difficult to do and any risks introduced by the change that will need to be mitigated.
